I"÷u<h1 id="problem">Problem</h1>

<p>Design a class to find the kth largest element in a stream. Note that it is the kth largest element in the sorted order, not the kth distinct element.</p>

<p>Your KthLargest class will have a constructor which accepts an integer k and an integer array nums, which contains initial elements from the stream. For each call to the method KthLargest.add, return the element representing the kth largest element in the stream.</p>

<h2 id="example">Example</h2>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">int</span><span class="p">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>
<span class="kt">KthLargest</span> <span class="n">kthLargest</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">KthLargest</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">arr</span><span class="p">);</span>
<span class="n">kthLargest</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>   <span class="c1">// returns 4</span>
<span class="n">kthLargest</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>   <span class="c1">// returns 5</span>
<span class="n">kthLargest</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>  <span class="c1">// returns 5</span>
<span class="n">kthLargest</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>   <span class="c1">// returns 8</span>
<span class="n">kthLargest</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>   <span class="c1">// returns 8</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="note">Note</h2>

<ul>
  <li>You may assume that <code class="highlighter-rouge">nums</code>â€˜length &gt;= <code class="highlighter-rouge">k-1</code> and <code class="highlighter-rouge">k</code> &gt;= 1.</li>
  <li><code class="highlighter-rouge">k</code>ëŠ” <code class="highlighter-rouge">KthLargest</code> ìƒì„±ìì˜ íŒŒë¼ë¯¸í„°ë¡œ ì •í•´ì ¸ ìˆë‹¤.</li>
  <li><code class="highlighter-rouge">KthLargest.add</code> í•¨ìˆ˜ê°€ í˜¸ì¶œ ë  ë•Œ ë§ˆë‹¤ <code class="highlighter-rouge">arr</code>ì— íŒŒë¼ë¯¸í„°ê°€ ì¶”ê°€ ë˜ê³ , <code class="highlighter-rouge">k</code>ë²ˆì§¸ í° ìˆ«ìë¥¼ ë¦¬í„´í•œë‹¤.</li>
</ul>

<h1 id="my-answer">My Answer</h1>

<ul>
  <li><code class="highlighter-rouge">Binary Search Tree</code>ë¥¼ ì´ìš©í•˜ì.</li>
  <li><code class="highlighter-rouge">cnt : í˜„ì¬ ë…¸ë“œë¥¼ ë£¨íŠ¸ë¡œ í•˜ëŠ” ì„œë¸ŒíŠ¸ë¦¬ì˜ ê°¯ìˆ˜</code>, <code class="highlighter-rouge">val : í˜„ì¬ ë…¸ë“œì˜ ê°’</code>, <code class="highlighter-rouge">left : ì™¼ìª½ ë…¸ë“œ</code>, <code class="highlighter-rouge">right : ì˜¤ë¥¸ìª½ ë…¸ë“œ</code>ë¥¼ ë©¤ë²„ë¡œ ê°–ëŠ” <code class="highlighter-rouge">TreeNode</code> í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ì.</li>
  <li><code class="highlighter-rouge">KthLargest</code> ìƒì„±ìì—ì„œ <code class="highlighter-rouge">nums</code>ë¥¼ ì´ìš©í•´ì„œ <code class="highlighter-rouge">BST</code>ë¥¼ êµ¬ì„±í•œë‹¤.</li>
  <li><code class="highlighter-rouge">add</code> í•¨ìˆ˜ì—ì„  íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ê°’ì„ ê¸°ì¡´ì— ë§Œë“¤ì–´ ë†“ì€ <code class="highlighter-rouge">BST</code>ì— ì¶”ê°€í•˜ê³ , <code class="highlighter-rouge">k</code>ë²ˆì§¸ì— ìˆëŠ” ìˆ«ìë¥¼ ì°¾ëŠ”ë‹¤.</li>
  <li>ì°¾ëŠ” ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
    <ul>
      <li><code class="highlighter-rouge">í˜„ì¬ë…¸ë“œ(curr)</code>ì˜ <code class="highlighter-rouge">right</code>ê°€ <code class="highlighter-rouge">null</code>ì´ ì•„ë‹ˆë¼ë©´, <code class="highlighter-rouge">right::cnt</code>ì˜ ê°’ì´ <code class="highlighter-rouge">k</code>ë³´ë‹¤ ê°™ê±°ë‚˜ í°ì§€ í™•ì¸í•œë‹¤.</li>
      <li>ë§Œì•½ <code class="highlighter-rouge">k</code>ë³´ë‹¤ ê°™ê±°ë‚˜ í¬ë‹¤ë©´, <code class="highlighter-rouge">curr</code> ë³´ë‹¤ í° ìˆ«ìê°€ <code class="highlighter-rouge">k</code>ë§Œí¼ ìˆë‹¤ëŠ” ê²ƒì´ë‹ˆ, ë‹¤ìŒ <code class="highlighter-rouge">curr</code>ì€ <code class="highlighter-rouge">curr.right</code>ê°€ ëœë‹¤.</li>
      <li>ë§Œì•½ <code class="highlighter-rouge">k</code>ë³´ë‹¤ ì‘ë‹¤ë©´, <code class="highlighter-rouge">curr</code> ë³´ë‹¤ í° ìˆ«ìê°€ <code class="highlighter-rouge">k</code> ë³´ë‹¤ ì ë‹¤ëŠ” ê²ƒì´ë‹ˆ, <code class="highlighter-rouge">k</code>ì—ì„œ <code class="highlighter-rouge">right::cnt</code> ë§Œí¼ì„ ë¹¼ì¤€ë‹¤.
        <ul>
          <li>ìœ„ì—ì„œ ëº€ê³ ë‚œ ì´í›„ <code class="highlighter-rouge">k</code>ê°€ <code class="highlighter-rouge">1</code>ì´ë¼ë©´ <code class="highlighter-rouge">curr</code>ì´ <code class="highlighter-rouge">k</code>ë²ˆì§¸ í° ìˆ«ìë€ ëœ».</li>
          <li><code class="highlighter-rouge">k</code> ê°€ <code class="highlighter-rouge">1</code> ë³´ë‹¤ í¬ë‹¤ë©´, <code class="highlighter-rouge">curr</code>ì€ <code class="highlighter-rouge">curr.left</code>ê°€ ëœë‹¤. ì¦‰ ì´ì „ <code class="highlighter-rouge">curr</code> ~ <code class="highlighter-rouge">curr::right</code> ëŠ” í›„ë³´ì—ì„œ ì œì™¸ë˜ë‹ˆê¹Œ <code class="highlighter-rouge">k</code>ì— 1ì„ ì¶”ê°€ë¡œ ë¹¼ì¤€ë‹¤.</li>
        </ul>
      </li>
      <li>ìœ„ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ì€ íë¦„ìœ¼ë¡œ ëœë‹¤.
        <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="n">k</span> <span class="o">=</span> <span class="mi">3</span>
<span class="no">BST</span> <span class="o">=</span> 
    <span class="mi">4</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>
   <span class="o">/</span>   <span class="err">\</span>
  <span class="mi">2</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="mi">5</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
         <span class="err">\</span> 
         <span class="mi">8</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="n">add</span><span class="o">(</span><span class="mi">3</span><span class="o">):</span>
    <span class="mi">4</span><span class="o">(</span><span class="mi">6</span><span class="o">)</span>
   <span class="o">/</span>   <span class="err">\</span>
  <span class="mi">2</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span> <span class="mi">5</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
   <span class="err">\</span>    <span class="err">\</span> 
   <span class="mi">3</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="mi">8</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
       
   <span class="mi">1</span><span class="o">:</span>
    <span class="nl">curr:</span><span class="mi">4</span>
    <span class="mi">5</span><span class="err">ì˜</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="err">'</span><span class="n">cnt</span> <span class="o">(</span><span class="mi">2</span><span class="o">)</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">k</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">4</span><span class="err">ê°€</span> <span class="err">ì •ë‹µ</span>
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">TreeNode</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">val</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">cnt</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span> <span class="n">left</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">TreeNode</span> <span class="n">right</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">TreeNode</span><span class="o">(</span><span class="kt">int</span> <span class="n">_val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">_val</span><span class="o">;</span>  
        <span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">KthLargest</span> <span class="o">{</span>    
    <span class="kt">int</span> <span class="n">m_k</span><span class="o">;</span>
    
    <span class="nc">TreeNode</span> <span class="n">m_root</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">KthLargest</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">m_k</span><span class="o">=</span><span class="n">k</span><span class="o">;</span>    

        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">:</span> <span class="n">nums</span><span class="o">)</span>
            <span class="n">insert</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">insert</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        
        <span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="n">m_k</span><span class="o">;</span>
        <span class="nc">TreeNode</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">m_root</span><span class="o">;</span>
        
        <span class="k">while</span><span class="o">(</span><span class="n">curr</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span> <span class="n">curr</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span> <span class="n">curr</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">cnt</span> <span class="o">&gt;=</span> <span class="n">k</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">k</span> <span class="o">-=</span> <span class="n">curr</span><span class="o">.</span><span class="na">right</span><span class="o">.</span><span class="na">cnt</span><span class="o">;</span>                    
                <span class="o">}</span>                
            <span class="o">}</span> 
            
            <span class="k">if</span> <span class="o">(</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">)</span> <span class="o">{</span>                
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">k</span> <span class="o">-=</span> <span class="mi">1</span><span class="o">;</span>
                <span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="na">left</span><span class="o">;</span>                
            <span class="o">}</span>
        <span class="o">}</span>
        
        <span class="k">return</span> <span class="n">curr</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kt">void</span> <span class="nf">insert</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span> <span class="n">m_root</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">m_root</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>   
            <span class="nc">TreeNode</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">m_root</span><span class="o">;</span>
            
            <span class="k">while</span> <span class="o">(</span> <span class="n">curr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
                <span class="n">curr</span><span class="o">.</span><span class="na">cnt</span><span class="o">++;</span>
                
                <span class="kt">boolean</span> <span class="n">is_left</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="na">val</span> <span class="o">&gt;=</span> <span class="n">val</span><span class="o">;</span>
                <span class="nc">TreeNode</span> <span class="n">next</span> <span class="o">=</span> <span class="n">is_left</span> <span class="o">?</span> <span class="n">curr</span><span class="o">.</span><span class="na">left</span> <span class="o">:</span> <span class="n">curr</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
                
                <span class="k">if</span> <span class="o">(</span> <span class="n">next</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span> <span class="n">is_left</span> <span class="o">)</span> <span class="o">{</span>
                        <span class="n">curr</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>                        
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="n">curr</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TreeNode</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
                    <span class="o">}</span>
                    <span class="n">curr</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">curr</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
                <span class="o">}</span>                            
            <span class="o">}</span>            
        <span class="o">}</span>          
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="fastest-answer">Fastest Answer</h1>

<ul>
  <li><code class="highlighter-rouge">Heap</code>ì„ ì´ìš©í•˜ì.
    <ul>
      <li><a href="https://tinyfool.org/2019/05/heap-and-heap-sort-algorithm-java-code-and-leetcode-problems/">Heapì´ ë­ì•¼?</a></li>
      <li>ì™„ì „ ì´ì§„ íŠ¸ë¦¬ë¥¼ ë°°ì—´ë¡œ í‘œê¸° í•˜ê¸° ìœ„í•œ ë°©ë²•</li>
      <li>ë¶€ëª¨ ë…¸ë“œì˜ indexëŠ” ìì‹ ë…¸ë“œì˜ indexë¥¼ <code class="highlighter-rouge">2ë¡œ ë‚˜ëˆˆ ê°’</code>ì´ë‹¤.</li>
      <li>íŠ¹ì • ë…¸ë“œì˜ indexê°€ <code class="highlighter-rouge">i</code>ì¼ë•Œ, ì™¼ìª½ ìì‹ ë…¸ë“œì˜ indexëŠ” <code class="highlighter-rouge">2*i+1</code>, ì˜¤ë¥¸ìª½ ìì‹ ë…¸ë“œì˜ indexsms <code class="highlighter-rouge">2*i+2</code>ì´ë‹¤.
        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>     4
   /   \
  2     7
 / \   / \
1   3 5   6
=&gt; [4,2,7,1,3,5,6]
=&gt;  0,1,2,3,4,5,6
4ì˜ index=0, left(2)ì˜ index=2*0+1=1, right(7)ì˜ index=2*0+2=2   
2ì˜ index=1, left(1)ì˜ index=2*1+1=3, right(3)ì˜ index=2*1+2=4
7ì˜ index=2, left(5)ì˜ index=2*2+1=5, right(6)ì˜ index=2*2+2=6   
</pre></td></tr></tbody></table></code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">heap</code>ì˜ ì²«ë²ˆì§¸ ì›ì†Œë¥¼ <code class="highlighter-rouge">k</code>ë§Œí¼ í° ìˆ«ìë¡œ ìœ ì§€í•˜ì.</li>
  <li><code class="highlighter-rouge">addItem</code>ì—ì„œ í˜„ì¬ ë°°ì—´ì˜ ê°¯ìˆ˜ê°€ <code class="highlighter-rouge">k</code>ë§Œí¼ ì•ˆë ë• <code class="highlighter-rouge">siftUp</code> ì•„ë‹ˆë¼ë©´ <code class="highlighter-rouge">siftDown</code>ì„ í˜¸ì¶œ</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">KthLargest</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">smallHeap</span> <span class="n">heap</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">KthLargest</span><span class="o">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">heap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">smallHeap</span><span class="o">(</span><span class="n">k</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">heap</span><span class="o">.</span><span class="na">addItem</span><span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">heap</span><span class="o">.</span><span class="na">addItem</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">heap</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">smallHeap</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">capacity</span><span class="o">;</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">heap</span><span class="o">;</span>
        <span class="kd">public</span> <span class="nf">smallHeap</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">capacity</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">heap</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">x</span><span class="o">];</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">capacity</span> <span class="o">&lt;</span> <span class="n">heap</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">heap</span><span class="o">[</span><span class="n">capacity</span><span class="o">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
                <span class="n">siftUp</span><span class="o">(</span><span class="n">capacity</span><span class="o">);</span>
                <span class="n">capacity</span><span class="o">++;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
               <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">heap</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">{</span>
                   <span class="n">heap</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
                   <span class="n">siftDown</span><span class="o">(</span><span class="n">capacity</span><span class="o">);</span>
               <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">siftUp</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">parent</span> <span class="o">=</span> <span class="o">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">)/</span><span class="mi">2</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">heap</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;=</span> <span class="n">heap</span><span class="o">[</span><span class="n">parent</span><span class="o">])</span> <span class="o">{</span>
                    <span class="n">swapNum</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">parent</span><span class="o">);</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="n">parent</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">siftDown</span><span class="o">(</span><span class="kt">int</span> <span class="n">len</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">cur</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">&lt;</span> <span class="n">capacity</span><span class="o">/</span><span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">right</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span><span class="mi">2</span><span class="o">;</span>
                <span class="kt">int</span> <span class="n">swap</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">right</span> <span class="o">&lt;</span> <span class="n">len</span> <span class="o">&amp;&amp;</span> <span class="n">heap</span><span class="o">[</span><span class="n">right</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">heap</span><span class="o">[</span><span class="n">left</span><span class="o">])</span>
                    <span class="n">swap</span> <span class="o">=</span> <span class="n">right</span><span class="o">;</span>
                <span class="k">else</span>
                    <span class="n">swap</span> <span class="o">=</span> <span class="n">left</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">heap</span><span class="o">[</span><span class="n">cur</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">heap</span><span class="o">[</span><span class="n">swap</span><span class="o">])</span> <span class="o">{</span>
                    <span class="n">swapNum</span><span class="o">(</span><span class="n">cur</span><span class="o">,</span><span class="n">swap</span><span class="o">);</span>
                    <span class="n">cur</span> <span class="o">=</span> <span class="n">swap</span><span class="o">;</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        
        <span class="kd">private</span> <span class="kt">void</span> <span class="nf">swapNum</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">heap</span><span class="o">[</span><span class="n">x</span><span class="o">];</span>
            <span class="n">heap</span><span class="o">[</span><span class="n">x</span><span class="o">]</span> <span class="o">=</span> <span class="n">heap</span><span class="o">[</span><span class="n">y</span><span class="o">];</span>
            <span class="n">heap</span><span class="o">[</span><span class="n">y</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peek</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">heap</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

:ET